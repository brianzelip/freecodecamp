<!DOCTYPE html>
<html lang="en-US">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="stylesheet" href="https://npmcdn.com/basscss@7.1.1/css/basscss.min.css">
    <title>new approach to js</title>
    <meta name="description" content="">
    <meta name="author" content="Brian Zelip">
    <meta name="keywords" content="">
  </head>

  <body>

    <script src="jquery.min.js"></script>
    <script>
      var users = ["ESL_SC2", "OgamingSC2", "cretetion", "freecodecamp", "storbeck", "habathcx", "RobotCaleb", "noobs2ninjas", "whiteboy7thst", "zrozilacx", "sandyravage", "blametruthtwitch", "streamerhouse", "bzelip"];
      var onlineUsers = [];
      var offlineUsers = [];

      var apiURL = 'https://api.twitch.tv/kraken/';

      console.log('1. Num users = ' + users.length);

      function getStreamers() {
        offlineUsers = users;
        for (i=0; i<users.length; i++) {
          $.getJSON(apiURL + 'streams?channel=' + users[i], function(data) {
            if (data.streams[0] != undefined) {
              console.log('2. User currently streaming: ' + users[i]);
              onlineUsers.push(users[i]);
              console.log("The online users are: " + onlineUsers);
              var idx = users.indexOf(users[i]);
              if (idx > -1) {
                offlineUsers.splice(idx, 1);
              }
              console.log("the number of offline users is :" + offlineUsers.length);
              console.log("the offline users are: " + offlineUsers);
            }
          });
        }
      }

      getStreamers();

      /*
      learn the currently streaming users
      function getOnlineUsers() {
        for (i=0; i<users.length; i++) {
          onlineUserData(users[i]);
        }
        function onlineUserData(userName) {
            $.getJSON(apiURL + 'streams?channel=' + userName, function(data) {
            if (data.streams[0] != undefined) {
              console.log('2. User currently streaming: ' + userName);
              onlineUsers.push(userName);
              console.log("The online users are: " + onlineUsers);
              var idx = users.indexOf(userName);
              if (idx > -1) {
                users.splice(idx, 1);
                offlineUsers = users;
              }
              console.log("the number of offline users is :" + users.length);
              console.log("the offline users are: " + offlineUsers);
            }
          });
        }
      }

      getOnlineUsers();
      */
      // learn the offline users (by way of deducing from who is currently streaming)

      // create arrays for the online and offline users

    </script>

  </body>

</html>
