<!DOCTYPE html>
<html lang="en-US">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="stylesheet" href="https://npmcdn.com/basscss@7.1.1/css/basscss.min.css">
    <title>TwitchTV API sandbox</title>
    <meta name="description" content="buffer space for quick tries">
    <meta name="author" content="Brian Zelip">
    <meta name="keywords" content="sandbox, TwitchTV, api, FreeCodeCamp">
  </head>

  <body>

    <div id="Data"></div>

    <script src="https://cdn.jsdelivr.net/jquery/2.2.4/jquery.min.js"></script>
    <!--<script>
      // initial attempt
      var streamers = ["ESL_SC2", "OgamingSC2", "cretetion", "freecodecamp", "storbeck", "habathcx", "RobotCaleb", "noobs2ninjas", "whiteboy7thst", "zrozilacx", "sandyravage", "blametruthtwitch"]

      var apiBase = 'https://api.twitch.tv/kraken/';

      $.getJSON(apiBase + 'streams/' + streamers[0], function(data) {
        console.log(data);
      });
    </script>-->

    <script>
      var users = ["ESL_SC2", "OgamingSC2", "cretetion", "freecodecamp", "storbeck", "habathcx", "RobotCaleb", "noobs2ninjas", "whiteboy7thst", "zrozilacx", "sandyravage", "blametruthtwitch", "streamerhouse", "bzelip"];
      var onlineUsers = [];
      var offlineUsers = [];
      var neverUsers = [];
      var noMoreUsers = [];
      var apiURL = 'https://api.twitch.tv/kraken/';

      //finds which Twitch users are currently streaming, and creates an array of those names
      function getOnlineUsers2() {
        for (i=0; i<users.length; i++) {
          var userName = users[i];
          $.getJSON(apiURL + 'streams?channel=' + userName, function(data) {
            if (data.streams[0] != undefined) {
              onlineUsers.push(userName);
              console.log("The online users are: " + onlineUsers);
            }
          })
        }
      }

      //gets user data for all users who are not currently streaming
      function getOfflineUsers2() {
        offlineUsers = users;
        for (x=0; x<onlineUsers.length; x++) {
          var idx = users.indexOf(offlineUsers[x]);
          if (idx > -1) {
            offlineUsers.splice(idx, 1);
          }
          console.log('The offline users are: ' + offlineUsers);
        }
      }

      function createUserArrays() {
        getOnlineUsers2();
      }

      createUserArrays();
    </script>


  </body>

</html>
